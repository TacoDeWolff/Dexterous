function passed_time(){$("span.passed-time").change(function(){$(this).attr("data-time",new Date().getTime())}).each(function(){if(typeof $(this).attr("data-time")=="undefined"){$(this).attr("data-time",new Date().getTime())}var b=Math.round((new Date().getTime()-$(this).attr("data-time"))/1000),c=new Date(parseInt($(this).attr("data-time"))),a;if(b<10){a=""}else{if(b<30){a=" seconds ago"}else{if(b<60){a=" half a minute ago"}else{if(b<120){a=" 1 minute ago"}else{if(b<600){a=" "+Math.round(b/60)+" minutes ago"}else{a=" "+c.getHours()+":"+c.getMinutes()}}}}}if($("span",this).text()!==a){$(this).fadeOut(function(){$("span",this).text(a)}).fadeIn()}})}setInterval(passed_time,5000);passed_time();